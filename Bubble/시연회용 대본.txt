WinAPI로 버블보글2를 모작한 어소트락 45기 민경운입니다.
보고 계시는 스포트라이트는 가운데에 구멍이 뚫린 반투명한 직사각형을 움직이는 것으로 구현하였습니다.

------------------------------------------------

플레이어 캐릭터는 총 4개입니다.
4개의 캐릭터 모두 구현되어 있지만
시간관계상 테스트에 용이한 캐릭터로 플레이하겠습니다

------------------------------------------------

원할한 테스트 진행을 위해 잠시 무적모드를 활성화 하겠습니다.(F2)

버블버블 게임의 특징으로는 플레이어가 발사한 버블이 적들을 감싸면
플레이어는 튕겨서 적들을 물리칠 수 있습니다.

플레이어는 떠다니는 버블을 밟고 한번 더 도약할 수 있으며
플레이어가 버블을 터뜨릴땐 인접한 주변의 다른 버블도 함께 터집니다.
이 기능은, 처음 충돌한 버블을 기점으로
일정 범위 안에 있는 가까운 버블부터 터뜨려야 한다고 생각했습니다.
그래서 너비 우선 탐색 방식인 BFS알고리즘을 활용해 버블의 연쇄 터뜨리기 기능을 구현했습니다.

버블은 항상 위로만 이동하지 않고 각 스테이지마다 이동경로가 존재합니다(F1)
버블이 처음 생성되었을때 가장 가까운 곳으로 목적지를 설정하고
화살표의 방향에 따라 이동합니다.
최종 경로까지 도달한 버블들은 서로 밀어냅니다.

버블경로와 같이 무언가를 정렬하여 배치하는 것은 귀찮은 작업입니다.(F3)
그나마 쉽게 위치값을 지정하기 위해 가상의 그리드를 만들었습니다.

플레이어가 발사한 버블이 시간이 오래 지나면 자연적으로 터지게 됩니다.
만약 자연적으로 터진 버블안에 몬스터가 갇혀 있었다면
갇힌 몬스터는 다시 부활합니다.

버블보글에는 플레이어가 오랫동안 스테이지를 클리어하지 못할 때 유령 몬스터가 등장합니다.(F6, F7)
이 몬스터는 일정 시간마다 플레이어를 추적하고,
플레이어가 죽지 않을시 속도가 점점 빨라집니다.

현재 스테이지에서는 3가지 분기점이 있습니다.
3곳 모두 모두 완성되어 있지만
시연회를 위해 첫번째 문으로이동하겠습니다.

------------------------------------------------

(F1 이용해 버블 경로 한번 보여주기)
지금 보고 있는 몬스터는 가장 기본적인 몬스터 젠챵입니다.
수평으로 걷다가 특정 조건이 성립되면 점프합니다.
(n초를 넘겼다면 : 시간관계상 치트키를 사용해 넘어가겠습니다)

------------------------------------------------

(F1 이용해 버블 경로 한번 보여주기)
플룹입니다.
앞서 본 ZenChan과 동일한 FSM에 대시기능을 추가했습니다.

번개모양의 버블은 터뜨리면 번개투사체를 발생시킵니다.
이 투사체가 플레이어에 닿으면 플레이어는 몇초간 경직상태에 빠집니다.(F2 해제)
(n초를 넘겼다면 : 시간관계상 치트키를 사용해 넘어가겠습니다)

------------------------------------------------

(F1 이용해 버블 경로 한번 보여주기)
앞구르기를 하고 있는 몬스터는 매지션입니다.
앞구르기 후 적절한 확률로 돌진을 합니다.

파도가 담긴버블을 터뜨리면
지형을 탈 수 있는 파도를 생성 시킵니다.
이 파도가 플레이어에 닿으면 플레이어의 의도와 상관없이 위치를 이동시킵니다.
파도에서 빠져나오고 싶다면 점프를 하면 됩니다.
(n초를 넘겼다면 : 시간관계상 치트키를 사용해 넘어가겠습니다)

------------------------------------------------

(F1 이용해 버블 경로 한번 보여주기)
망토를 뒤집어 쓴 몬스터는 마이타입니다.(F2)
플레이어가 시야에 들어오면 특정 확률도 투사체를 발사합니다.
(n초를 넘겼다면 : 시간관계상 치트키를 사용해 넘어가겠습니다)

------------------------------------------------

(F1 이용해 버블 경로 한번 보여주기)
공룡 모습의 몬스터는 와루린이고 보라색 갈매기 눈썹의 몬스터는 하이데곤즈입니다.
이 몬스터들은 앞서 본 마이타와 동일한 FSM을 가지고 있습니다.
하지만 와루린의 경우엔 발사하는 투사체가 맵을 통과합니다.

지구모양의 몬스터와 구름 모양의 몬스터는 각각 티타마, 푸카푸카입니다.
둘도 동일한 FSM을 가지고 있습니다.
이 몬스터의 경우엔 버블을 발사해서 가둬놓을 수 없습니다.
그래서 번개 버블을 이용해 몬스터를 처리해야 합니다.
(n초를 넘겼다면 : 시간관계상 치트키를 사용해 넘어가겠습니다)

------------------------------------------------


마지막으로 보스 몬스터입니다.
이  스테이지는 보스와 싸우기 위해 특수 물약이 주어집니다.
그 물약은 처음 스테이지에서 선택한 문에 따라 다릅니다.

보스 몬스터의 행동에는 총 3가지 단계가 있습니다.(F6)
첫번째 단계에서는 원형으로 이동하다가 피격받으면 플레이어를 쫒아갑니다.
보스 몬스터의 HP가 일정부분 이하로 떨어지면 2번째 단계가 됩니다.

보스의 2번째 행동단계에서는
플레이어에게 돌진 및 정지가 반복됩니다.
정지될때 3방향으로 투사체를 발사합니다.
보스 몬스터의 HP가 소량만 남으면 3번째 단계가 됩니다.

3번째 단계에서는 플레이어를 끊임없이 직선으로 쫒아갑니다.
만약 플레이어가 너무 가깝거나 갈수 없는 곳이라면
임의의 다른곳으로 이동합니다.

보스몬스터를 해치우면 다양한 아이템을 얻을수 있습니다.
화면 상단을 보면 아이템을 먹을때마다
점수를 획득하게 됩니다.

------------------------------------------------


엔딩화면입니다.
R키를 누르면 플레이어 선택화면으로 돌아갈 수 있습니다.
스테이지가 전환될 때 버블 및 아이템 들을 정리해왔기 때문에
깨끗하게 다시 플레이 할 수 할 수 있습니다.

여기까지 버블보글2를 모작한 45기 민경운이였습니다.
감사합니다.














